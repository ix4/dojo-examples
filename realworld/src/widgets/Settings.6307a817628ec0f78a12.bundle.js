/*!
 * 
 * [Dojo](https://dojo.io/)
 * Copyright [JS Foundation](https://js.foundation/) & contributors
 * [New BSD license](https://github.com/dojo/meta/blob/master/LICENSE)
 * All rights reserved
 * 
 */
(window.dojoWebpackJsonprealworld_app=window.dojoWebpackJsonprealworld_app||[]).push([["src/widgets/Settings"],{59:function(e,t,s){"use strict";s.r(t);var o=s(18),a=s(19),c=s(20),n=s(21),r=s(22),l=s(25);const i=Object(r.a)(({payload:{email:e},path:t})=>[Object(n.c)(t("settings","email"),e)]),b=Object(r.a)(({payload:{password:e},path:t})=>[Object(n.c)(t("settings","password"),e)]),u=Object(r.a)(({payload:{username:e},path:t})=>[Object(n.c)(t("settings","username"),e)]),g=Object(r.a)(({payload:{bio:e},path:t})=>[Object(n.c)(t("settings","bio"),e)]),p=Object(r.a)(({payload:{imageUrl:e},path:t})=>[Object(n.c)(t("settings","image"),e)]),d=Object(r.a)(({path:e})=>[Object(n.c)(e("settings"),{isLoaded:!1,isLoading:!1})]),j=Object(r.a)(({path:e,get:t})=>[Object(n.c)(e("settings"),t(e("session")))]),O=Object(r.a)(async({path:e,get:t})=>{const s=t(e("session","token")),o=t(e("settings")),a=await fetch(`${l.a}/user`,{method:"put",headers:Object(r.b)(s),body:JSON.stringify(o)}),c=await a.json();return[Object(n.c)(e("session"),c.user),Object(n.c)(e("settings"),void 0),Object(n.c)(e("routing","outlet"),"user"),Object(n.c)(e("routing","params"),{username:t(e("settings","username"))})]}),m=Object(c.b)("user-settings",[d,j]),f=Object(c.b)("update-user-settings",[O]),h=Object(c.b)("username-input",[u]),w=Object(c.b)("email-input",[i]),v=Object(c.b)("password-input",[b]),y=Object(c.b)("bio-input",[g]),k=Object(c.b)("image-url-input",[p]);var x=s(29);s.d(t,"Settings",function(){return S});const S=Object(o.a)({store:a.a})(function({middleware:{store:e}}){const{get:t,path:s,executor:a}=e,c=t(s("settings"));return c?Object(o.g)("div",{classes:["editor-page"]},Object(o.g)("div",{classes:["container","page"]},Object(o.g)("div",{classes:["row"]},Object(o.g)("div",{classes:["col-md-10","offset-md-1","col-xs-12"]},Object(o.g)("h1",{classes:["text-xs-center"]},"Your Settings"),Object(o.g)("form",null,Object(o.g)("fieldset",null,Object(o.g)("fieldset",{classes:["form-group"]},Object(o.g)("input",{value:c.image,oninput:e=>{const t=e.target;a(k)({imageUrl:t.value})},placeholder:"",classes:["form-control","form-control-lg"]})),Object(o.g)("fieldset",{classes:["form-group"]},Object(o.g)("input",{value:c.username,oninput:e=>{const t=e.target;a(h)({username:t.value})},placeholder:"Your Name",classes:["form-control","form-control-lg"]})),Object(o.g)("fieldset",{classes:["form-group"]},Object(o.g)("textarea",{rows:8,value:c.bio,oninput:e=>{const t=e.target;a(y)({bio:t.value})},placeholder:"Short bio about you",classes:["form-control","form-control-lg"]})),Object(o.g)("fieldset",{classes:["form-group"]},Object(o.g)("input",{value:c.email,oninput:e=>{const t=e.target;a(w)({email:t.value})},placeholder:"Email",classes:["form-control","form-control-lg"]})),Object(o.g)("fieldset",{classes:["form-group"]},Object(o.g)("input",{value:c.password,type:"password",oninput:e=>{const t=e.target;a(v)({password:t.value})},placeholder:"Password",classes:["form-control","form-control-lg"]})),Object(o.g)("button",{onclick:e=>{e.preventDefault(),a(f)({})},type:"submit",classes:["btn","btn-lg","btn-primary","pull-xs-right"]},"Update Settings"))),Object(o.g)("hr",null),Object(o.g)("button",{onclick:()=>{a(x.b)({})},classes:["btn","btn-outline-danger"]},"Or click here to logout"))))):(a(m)({}),null)});t.default=S}}]);
//# sourceMappingURL=Settings.6307a817628ec0f78a12.bundle.js.map